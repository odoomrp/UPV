<?xml version="1.0" encoding="UTF-8"?>
<openerp>
    <data>

        <record model="ir.ui.view" id="purchase_order_line_tree_inh_assetsservices">
            <field name="name">purchase.order.line.tree.inh.assetsservices</field>
            <field name="model">purchase.order.line</field>
            <field name="priority" eval="17"/>
            <field name="inherit_id" ref="purchase.purchase_order_line_tree"/>
            <field name="arch" type="xml">
                <data>
                    <field name="invoiced" position="after">
                        <field name="account_analytic_id" />
	                	<field name="budgetary_line_id"  />
				        <field name="line_financing_source_ids" string="Financers"  />
                    </field>
                </data>
            </field>
        </record>
        
        <record model="ir.ui.view" id="purchase_order_line_form_inh_assetsservices">
            <field name="name">purchase.order.line.form.inh.assetsservices</field>
            <field name="model">purchase.order.line</field>
            <field name="type">form</field>
            <field name="priority" eval="17"/>
            <field name="inherit_id" ref="purchase.purchase_order_line_form"/>
            <field name="arch" type="xml">
                <data>
                    <field name="account_analytic_id" position="replace" />
                    <field name="product_id" position="replace">
                    	<field name="parent_account_analytic_id" colspan="4" invisible="1"/>
                    	<field name="price_subtotal" colspan="4" invisible="1"/>
                    	<field name="account_analytic_id" on_change="onchange_account(account_analytic_id)" colspan="4" col="2"/>
			        	<field name="budgetary_line_id" on_change="onchange_budgetary_line(account_analytic_id,budgetary_line_id)" context="{'tree_view_ref':'onglibre_assets_services_expenses.view_account_analytic_line_tree_assetsservices'}" colspan="4" col="2" />
			        	<newline/>
                        <field name="line_financing_source_ids" nolabel="1" height="100" context="{'account_analytic_id':account_analytic_id,'budgetary_line_id':budgetary_line_id}" colspan="4" col="4"/>
                        <field name="product_id" colspan="4" on_change="onchange_product_id_ong(parent.pricelist_id,product_id,product_qty,product_uom,parent.partner_id, parent.date_order,parent.fiscal_position,date_planned,name,price_unit,'draft',budgetary_line_id,context)" required="1" context="{'force_product_uom': True}" domain="[('categ_id.type', '=', 'normal')]" />
                    </field>
                    <field name="product_qty" position="replace">
                    	<field name="product_qty" on_change="onchange_product_id_ong(parent.pricelist_id,product_id,product_qty,product_uom,parent.partner_id,parent.date_order,parent.fiscal_position,date_planned,name,price_unit,'draft',budgetary_line_id,context)" class="oe_inline"/>
                    </field>
                    <field name="price_unit" position="replace">
                    	<field name="price_unit" on_change="onchange_price_unit_ong(parent.pricelist_id,taxes_id,product_qty,price_unit,budgetary_line_id,context)"/>
                    </field>
                </data>
            </field>
        </record>
    
    </data>
</openerp>